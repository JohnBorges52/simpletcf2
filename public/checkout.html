<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Secure Checkout</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="checkout.css" />
  </head>

  <body class="checkout-page">
    <div class="checkout-container">
      <!-- Header -->
      <header class="checkout-header">
        <div class="checkout-header-brand">
          <div class="checkout-brand-badge" aria-hidden="true">
            <!-- Shopping cart icon -->
            <svg
              class="checkout-icon checkout-icon-md checkout-text-purple"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              role="img"
              aria-label="Cart"
            >
              <circle cx="9" cy="21" r="1"></circle>
              <circle cx="20" cy="21" r="1"></circle>
              <path
                d="M1 1h4l2.68 12.39a2 2 0 0 0 2 1.61h7.72a2 2 0 0 0 2-1.61L23 6H6"
              ></path>
            </svg>
          </div>
          <h1 class="checkout-title">Secure Checkout</h1>
        </div>
      </header>

      <main class="checkout">
        <section class="card">
          <!-- ===== Order Summary (namespaced) ===== -->
          <section class="order-summary-card">
            <header class="order-summary-card__header">
              <div class="card__row">
                <a href="javascript:history.back()" class="back">
                  <svg
                    class="back__icon"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    aria-hidden="true"
                  >
                    <path
                      d="M15 18l-6-6 6-6"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                  <span class="back__text">Back</span>
                </a>
              </div>
              <h2 class="order-summary-title">Order Summary</h2>

              <!-- Signed-in user -->
              <div class="signedin">
                <p id="signedin__hint__id" class="signedin__hint"></p>
                <!-- <p class="signedin__email"></p> -->
              </div>
            </header>

            <div class="order-summary-card__body">
              <!-- Package Details (all tiers pre-rendered, only one visible) -->
              <div class="order-summary-block order-summary-block--pkg">
                <div class="order-summary-row">
                  <div class="order-summary-col">
                    <!-- FREE -->
                    <div
                      class="order-summary-package order-summary-package--free"
                    >
                      <div class="order-summary-badges">
                        <span
                          class="order-summary-badge order-summary-badge--free"
                        ></span>
                      </div>
                      <p class="order-summary-text"></p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Pricing Breakdown -->
              <div class="order-summary-block order-summary-block--breakdown">
                <div class="order-summary-line">
                  <span class="order-summary-label">Package Price</span>
                  <span class="order-summary-value"></span>
                </div>

                <div class="order-summary-line">
                  <span class="order-summary-label">Platform Fee (2.5%)</span>
                  <span id="platformFeeId" class="order-summary-value"></span>
                </div>

                <div class="order-summary-line order-summary-line--sep">
                  <span class="order-summary-label">Subtotal</span>
                  <span id="subtotalId" class="order-summary-value"></span>
                </div>

                <div class="order-summary-line">
                  <span class="order-summary-label">GST (5%)</span>
                  <span id="gstId" class="order-summary-value"></span>
                </div>

                <div class="order-summary-line">
                  <span class="order-summary-label">PST (7%)</span>
                  <span id="pstId" class="order-summary-value"></span>
                </div>

                <div class="order-summary-line order-summary-line--total">
                  <span class="order-summary-total-label">Total</span>
                  <span id="totalId" class="order-summary-total-value"></span>
                </div>
              </div>

              <!-- Additional Info -->
              <div class="order-summary-info">
                <div class="order-summary-info__icon">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                    class="order-summary-info__svg"
                  >
                    <circle
                      cx="12"
                      cy="12"
                      r="10"
                      stroke="currentColor"
                      stroke-width="2"
                      fill="none"
                    ></circle>
                    <path
                      d="M12 16v-4M12 8h.01"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    ></path>
                  </svg>
                </div>
                <div class="order-summary-info__text">
                  <p class="order-summary-info__title">Secure Payment</p>
                  <p>
                    Your payment information is encrypted and secure. You will
                    receive a confirmation email after successful payment.
                  </p>
                </div>
              </div>
            </div>
          </section>

          <!-- ===== Payment Section ===== -->
          <section
            id="paymentSection"
            aria-labelledby="payment-heading"
            class="card__body"
          >
            <h2 id="payment-heading" class="h2">Your payment method</h2>

            <!-- Brand icons -->
            <div class="brands" aria-hidden="true">
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Visa_Inc._logo.svg/2560px-Visa_Inc._logo.svg.png"
                alt="Visa"
              />
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Mastercard-logo.svg/1280px-Mastercard-logo.svg.png"
                alt="Mastercard"
              />
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/PayPal.svg/2560px-PayPal.svg.png"
                alt="PayPal"
              />
            </div>

            <!-- Selector (CSS toggled) -->
            <div class="selector">
              <input
                type="radio"
                name="payment-method"
                id="pm-card"
                class="selector__radio"
                value="card"
                checked
              />
              <label class="selector__option" for="pm-card">
                <span class="selector__bullet"></span>
                <svg
                  class="selector__icon"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  aria-hidden="true"
                >
                  <rect
                    x="2"
                    y="5"
                    width="20"
                    height="14"
                    rx="2"
                    stroke="currentColor"
                    stroke-width="2"
                  />
                  <path d="M2 10h20" stroke="currentColor" stroke-width="2" />
                </svg>
                <span class="selector__label">Credit/Debit</span>
              </label>

              <input
                type="radio"
                name="payment-method"
                id="pm-paypal"
                class="selector__radio"
                value="paypal"
              />
              <label class="selector__option" for="pm-paypal">
                <span class="selector__bullet"></span>
                <img
                  class="selector__pp"
                  src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/PayPal.svg/2560px-PayPal.svg.png"
                  alt="PayPal"
                />
                <span class="selector__label">PayPal</span>
              </label>
            </div>

            <!-- Forms (CSS toggled by #pm-â€¦ state) -->
            <div class="forms">
              <!-- Card form -->
              <form
                class="form form--card"
                id="cardForm"
                autocomplete="off"
                aria-label="Card payment form"
              >
                <div class="grid grid--2">
                  <div class="grid__col--full">
                    <div class="field field--combo">
                      <div class="mini-card" id="card-brand">
                        <div class="mini-card__chip"></div>
                      </div>
                      <input
                        type="text"
                        id="cardNumberInput"
                        maxlength="19"
                        placeholder="Card number"
                        class="field__input"
                        autocomplete="cc-number"
                      />
                    </div>
                  </div>

                  <div>
                    <div class="field">
                      <input
                        type="text"
                        id="expiryInput"
                        inputmode="numeric"
                        maxlength="5"
                        placeholder="MM/YY"
                        class="field__input"
                        autocomplete="cc-exp"
                      />
                    </div>
                  </div>
                  <div>
                    <div class="field">
                      <input
                        type="text"
                        id="cvvInput"
                        inputmode="numeric"
                        maxlength="3"
                        placeholder="CVC"
                        class="field__input"
                        autocomplete="cc-csc"
                      />
                    </div>
                  </div>
                </div>

                <div class="grid grid--2">
                  <div>
                    <label class="label" for="firstName">First name</label>
                    <div class="field">
                      <input
                        id="firstName"
                        type="text"
                        class="field__input"
                        autocomplete="given-name"
                      />
                    </div>
                  </div>
                  <div>
                    <label class="label" for="lastName">Last name</label>
                    <div class="field">
                      <input
                        id="lastName"
                        type="text"
                        class="field__input"
                        autocomplete="family-name"
                      />
                    </div>
                  </div>
                </div>

                <div class="grid grid--2">
                  <div>
                    <label class="label" for="postal">Postal code</label>
                    <div class="field">
                      <input
                        id="postal"
                        type="text"
                        class="field__input"
                        autocomplete="postal-code"
                      />
                    </div>
                  </div>
                </div>

                <div>
                  <div class="labelrow">
                    <label class="label" for="phone"
                      >Phone number (optional)</label
                    >
                    <svg
                      class="info"
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      aria-hidden="true"
                    >
                      <circle
                        cx="12"
                        cy="12"
                        r="10"
                        stroke="currentColor"
                        stroke-width="2"
                      ></circle>
                      <path
                        d="M12 16v-4M12 8h.01"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      ></path>
                    </svg>
                  </div>
                  <div class="field">
                    <input
                      id="phone"
                      type="tel"
                      class="field__input"
                      value="+1 (236) 508-2965"
                      autocomplete="tel"
                    />
                  </div>
                </div>

                <div class="actions">
                  <button id="completePaymentBtn" type="button" class="btn btn--primary">
                    Complete Payment
                  </button>
                </div>
              </form>

              <!-- PayPal Section -->
              <div id="paypalBox" class="paypal-box hidden">
                <div class="paypal-container">
                  <img
                    src="https://www.paypalobjects.com/webstatic/mktg/Logo/pp-logo-100px.png"
                    alt="PayPal"
                    class="paypal-logo"
                  />
                  <p class="paypal-text">
                    You'll be redirected to PayPal to complete your payment
                    securely.
                  </p>
                  <button id="paypalBtn" class="paypal-btn" type="button">
                    Continue with PayPal
                  </button>
                </div>
              </div>
            </div>
          </section>
        </section>
      </main>

      <!-- Security Notice spacer (kept) -->
      <div
        class="checkout-center-row checkout-gap-2 checkout-mb-6 checkout-text-sm"
      ></div>
    </div>

    <!-- Scripts -->
    <script src="firebase-config.js"></script>

    <script type="module" src="script.js"></script>
    <script type="module" src="checkout.js"></script>
  </body>
</html>
